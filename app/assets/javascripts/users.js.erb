function initializeProfileValidations() {
  $('#edit-user-details').validate({
    rules: {
      'user[name]': { required: true },
      'user[surname]': { required: true },
      'user[email]': {
        required: true,
        email: true},
      'user[current_password]': { required: true },
      'user[password_confirmation]': {equalTo : "#user_password"}
    },
    messages: {
      'user[name]': I18n[window.gon.locale]['validations']['first_name'],
      'user[surname]': I18n[window.gon.locale]['validations']['surname'],
      'user[email]': {
          required: I18n[window.gon.locale]['validations']['email'],
          email: I18n[window.gon.locale]['validations']['valid_email']},
      'user[current_password]': I18n[window.gon.locale]['validations']['current_pass_required'],
      'user[password_confirmation]': I18n[window.gon.locale]['validations']['current_pass']
    },
    errorElement: "div",
    errorClass: "text-danger",
    errorId: "event_error",
    errorPlacement: function (error, element) {
      error.insertAfter(element);
      element.closest('div').addClass('has-error');
    },
    success: function (label) {
      label.closest('.form-group').removeClass('has-error').addClass('has-success');
    }
  });
};

function my_profile_page() {
  return location.pathname.match(/profile/) != null;
};

$(document).ready(function() {
  if(my_profile_page()){
    initializeProfileValidations();
  }
});
