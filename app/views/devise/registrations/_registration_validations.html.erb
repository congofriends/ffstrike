<script type="text/javascript">
	function initializeValidations() {
    $('#new_user').validate({
      rules: {
        'user[name]': {required: true},
        'user[email]': { 
          required: true,
          email: true,
          remote: "/check_email" },
    		'user[password]': {required: true},
    		'user[password_confirmation]': {equalTo : "#user_password"}
      },
      messages: {
        'user[name]': "Name is required",
        'user[email]': {
          required: "Email is required",
          email: "Please enter a valid email address",
          remote: "Email is already in use"},
        'user[password]': "Password is required",
    		'user[password_confirmation]': "Confirmation Password must equal Password"
      },
      errorElement: "div",
      errorClass: "text-danger",
      errorId: "event_error",
      errorPlacement: function (error, element) {
        error.insertAfter(element);
        element.closest('div').addClass('has-error');
      },
      success: function (label) {
          label.closest('.form-group').removeClass('has-error').addClass('has-success');
          label.next('.help-block').hide();
      }
    });
  };

  initializeValidations();

</script>
