<script type="text/javascript">
  function initializeAttendeeValidations() {
      $('#attendee-form').validate({
        rules: {
          'user[name]': { required: true },
          'user[surname]': { required: true },
          'user[email]': {
            required: true,
            email: true,
            remote: "/check_email" }
        },
        messages: {
          'user[name]': "<%= t('validations.first_name') %>",
          'user[surname]': "<%= t('validations.surname') %>",
          'user[email]': {
            required: "<%= t('validations.email') %>",
            email: "<%= t('validations.valid_email') %>",
            remote: "<%= t('validations.existing_email') %>"}
        },
        errorElement: "div",
        errorClass: "text-danger",
        errorId: "event_error",
        errorPlacement: function (error, element) {
          error.insertAfter(element);
          element.closest('div').addClass('has-error');
        },
        success: function (label) {
            label.closest('.form-group').removeClass('has-error').addClass('has-success');
            label.next('.help-block').hide();
        }
      });
    };
    $.modal.defaults = {
      overlay: "#000",        // Overlay color
      opacity: 0.75,          // Overlay opacity
      zIndex: 1,              // Overlay z-index.
      escapeClose: true,      // Allows the user to close the modal by pressing `ESC`
      clickClose: false,       // Allows the user to close the modal by clicking the overlay
      closeText: 'Close',     // Text content for the close <a> tag.
      closeClass: 'close_btn',         // Add additional class(es) to the close <a> tag.
      showClose: true,        // Shows a (X) icon/link in the top-right corner
      modalClass: "modal",    // CSS class added to the element being displayed in the modal.
      spinnerHtml: null,      // HTML appended to the default spinner during AJAX requests.
      showSpinner: false,      // Enable/disable the default spinner during AJAX requests.
      fadeDuration: null,     // Number of milliseconds the fade transition takes (null means no transition)
      fadeDelay: 1.0          // Point during the overlay's fade-in that the modal begins to fade in (.5 = 50%, 1.5 = 150%, etc.)
    };

  initializeAttendeeValidations();

</script>
